<ng-container *ngIf="!isGameCreated">

  <h1 mat-dialog-title>Create game</h1>

  <form [formGroup]="formGroup" (ngSubmit)="onSubmit()" autocomplete="off">
    <mat-dialog-content>

      <mat-form-field [formGroup]=formGroup>
        <input type="text" matInput placeholder="Your name" formControlName="userName">
      </mat-form-field>

      <mat-form-field [formGroup]=formGroup>
        <mat-select formControlName="teamId" placeholder="Team">
          <mat-option *ngFor="let team of teams" [value]="team.value">
            {{team.label}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field [formGroup]=formGroup>
        <input type="password" matInput placeholder="Game password" formControlName="gamePassword">
        <mat-hint align="start">optional</mat-hint>
      </mat-form-field>

    </mat-dialog-content>
    <mat-dialog-actions>
      <button type="button" mat-raised-button (click)="onCancel()">Cancel</button>
      <button type="submit" [disabled]="isSubmitButtonDisabled() == true" mat-raised-button color="primary"
        cdkFocusInitial>Create Game</button>
    </mat-dialog-actions>
  </form>

</ng-container>

<div *ngIf="isGameCreated" class="text-center">

  <h1 mat-dialog-title>Game created</h1>

  <mat-dialog-content>

    <br />
    <br />

    <b>Awaiting for another player</b>
    <br />
    <br />
    <p *ngIf="joinGameUrl">
      Share this link to join your game:
    </p>

    <div class="copy-link-container" #container>
      <button mat-flat-button color="primary" [class.link-copied]="isJoinGameLinkCopiedToClipboard" ngxClipboard
              [cbContent]="joinGameUrl" [container]="container" (click)="onCopyLinkClick()">
        <span *ngIf="!isJoinGameLinkCopiedToClipboard">Copy link</span>
        <span *ngIf="isJoinGameLinkCopiedToClipboard">Copied!</span>
      </button>
    </div>

  </mat-dialog-content>
  <mat-dialog-actions>

    <button type="button" mat-raised-button (click)="onCancelGame()">Cancel Game</button>
  </mat-dialog-actions>
</div>
